<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CrisisBoard</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <style>
      /* Custom styles for dark mode and theme toggle */
      .theme-toggle {
        position: relative;
        width: 60px;
        height: 30px;
        background: #374151;
        border-radius: 15px;
        cursor: pointer;
        transition: all 0.3s ease;
      }
      
      .theme-toggle.dark {
        background: #10b981;
      }
      
      .theme-toggle::before {
        content: '';
        position: absolute;
        top: 2px;
        left: 2px;
        width: 26px;
        height: 26px;
        background: #fbbf24;
        border-radius: 50%;
        transition: all 0.3s ease;
        box-shadow: 0 2px 4px rgba(0,0,0,0.2);
      }
      
      .theme-toggle.dark::before {
        transform: translateX(30px);
        background: #ffffff;
      }
      
      .theme-toggle::after {
        content: '‚òÄÔ∏è';
        position: absolute;
        top: 50%;
        left: 8px;
        transform: translateY(-50%);
        font-size: 12px;
        transition: opacity 0.3s ease;
      }
      
      .theme-toggle.dark::after {
        content: 'üåô';
        left: auto;
        right: 8px;
      }
      
      /* Dark mode styles - Custom implementation for Tailwind v2 */
      body.dark {
        background-color: #111827 !important;
        color: #f9fafb !important;
      }
      
      body.dark .bg-white {
        background-color: #1f2937 !important;
      }
      
      body.dark .bg-gray-50 {
        background-color: #111827 !important;
      }
      
      body.dark .bg-gray-100 {
        background-color: #374151 !important;
      }
      
      body.dark .bg-gray-800 {
        background-color: #1f2937 !important;
      }
      
      body.dark .bg-gray-900 {
        background-color: #111827 !important;
      }
      
      body.dark .text-gray-800 {
        color: #f9fafb !important;
      }
      
      body.dark .text-gray-700 {
        color: #d1d5db !important;
      }
      
      body.dark .text-gray-600 {
        color: #9ca3af !important;
      }
      
      body.dark .text-gray-500 {
        color: #6b7280 !important;
      }
      
      body.dark .text-gray-400 {
        color: #9ca3af !important;
      }
      
      body.dark .text-gray-300 {
        color: #d1d5db !important;
      }
      
      body.dark .text-gray-200 {
        color: #e5e7eb !important;
      }
      
      body.dark .text-gray-100 {
        color: #f3f4f6 !important;
      }
      
      body.dark .text-white {
        color: #ffffff !important;
      }
      
      /* Additional text color fixes for better visibility */
      body.dark .text-gray-900 {
        color: #f9fafb !important;
      }
      
      body.dark .text-black {
        color: #ffffff !important;
      }
      
      /* Form input text colors */
      body.dark input,
      body.dark textarea,
      body.dark select {
        color: #f9fafb !important;
      }
      
      body.dark input::placeholder,
      body.dark textarea::placeholder {
        color: #9ca3af !important;
      }
      
      /* Ensure all text elements are visible */
      body.dark p,
      body.dark span,
      body.dark div,
      body.dark label,
      body.dark h1,
      body.dark h2,
      body.dark h3,
      body.dark h4,
      body.dark h5,
      body.dark h6 {
        color: inherit;
      }
      
      /* Specific fixes for form elements */
      body.dark .bg-white input,
      body.dark .bg-white textarea {
        color: #f9fafb !important;
      }
      
      body.dark .bg-white input::placeholder,
      body.dark .bg-white textarea::placeholder {
        color: #9ca3af !important;
      }
      
      body.dark .border-gray-200 {
        border-color: #374151 !important;
      }
      
      body.dark .border-gray-300 {
        border-color: #4b5563 !important;
      }
      
      body.dark .border-gray-600 {
        border-color: #4b5563 !important;
      }
      
      body.dark .border-gray-700 {
        border-color: #374151 !important;
      }
      
      body.dark .bg-blue-50 {
        background-color: rgba(59, 130, 246, 0.1) !important;
      }
      
      body.dark .bg-blue-900\/30 {
        background-color: rgba(30, 58, 138, 0.3) !important;
      }
      
      body.dark .border-blue-200 {
        border-color: rgba(59, 130, 246, 0.3) !important;
      }
      
      body.dark .border-blue-700 {
        border-color: rgba(29, 78, 216, 0.5) !important;
      }
      
      body.dark .text-blue-800 {
        color: #93c5fd !important;
      }
      
      body.dark .text-blue-200 {
        color: #93c5fd !important;
      }
      
      body.dark .text-blue-600 {
        color: #60a5fa !important;
      }
      
      body.dark .text-blue-400 {
        color: #60a5fa !important;
      }
      
      body.dark .hover\:text-blue-800:hover {
        color: #93c5fd !important;
      }
      
      body.dark .hover\:text-blue-200:hover {
        color: #bfdbfe !important;
      }
      
      body.dark .bg-green-50 {
        background-color: rgba(34, 197, 94, 0.1) !important;
      }
      
      body.dark .bg-green-900\/30 {
        background-color: rgba(21, 128, 61, 0.3) !important;
      }
      
      body.dark .border-green-200 {
        border-color: rgba(34, 197, 94, 0.3) !important;
      }
      
      body.dark .border-green-700 {
        border-color: rgba(21, 128, 61, 0.5) !important;
      }
      
      body.dark .text-green-800 {
        color: #86efac !important;
      }
      
      body.dark .text-green-200 {
        color: #86efac !important;
      }
      
      body.dark .text-green-700 {
        color: #6ee7b7 !important;
      }
      
      body.dark .text-green-300 {
        color: #6ee7b7 !important;
      }
      
      body.dark .bg-yellow-100 {
        background-color: rgba(253, 224, 71, 0.2) !important;
      }
      
      body.dark .bg-yellow-900 {
        background-color: rgba(120, 113, 108, 0.3) !important;
      }
      
      body.dark .text-yellow-800 {
        color: #fde047 !important;
      }
      
      body.dark .text-yellow-200 {
        color: #fef3c7 !important;
      }
      
      body.dark .text-green-600 {
        color: #10b981 !important;
      }
      
      body.dark .text-green-400 {
        color: #34d399 !important;
      }
      
      body.dark .placeholder-gray-500::placeholder {
        color: #6b7280 !important;
      }
      
      body.dark .placeholder-gray-400::placeholder {
        color: #9ca3af !important;
      }
      
      body.dark .focus\:ring-blue-500:focus {
        --tw-ring-color: #3b82f6 !important;
      }
      
      body.dark .focus\:ring-blue-400:focus {
        --tw-ring-color: #60a5fa !important;
      }
      
      body.dark .focus\:ring-blue-600:focus {
        --tw-ring-color: #2563eb !important;
      }
      
      body.dark .ring-offset-gray-800 {
        --tw-ring-offset-color: #1f2937 !important;
      }
      
      /* Additional dark mode improvements */
      body.dark .bg-gray-700 {
        background-color: #374151 !important;
      }
      
      body.dark .bg-gray-600 {
        background-color: #4b5563 !important;
      }
      
      /* Ensure form elements are properly styled in dark mode */
      body.dark input[type="checkbox"] {
        background-color: #374151 !important;
        border-color: #6b7280 !important;
      }
      
      body.dark input[type="checkbox"]:checked {
        background-color: #3b82f6 !important;
        border-color: #3b82f6 !important;
      }
      
      /* Fix for any remaining black text */
      body.dark * {
        color-scheme: dark;
      }
      
      /* Dark mode styling for dynamically created items */
      body.dark .dark-mode-item {
        background-color: #1f2937 !important;
        border-color: #374151 !important;
      }
      
      body.dark .dark-mode-item p {
        color: #f9fafb !important;
      }
      
      body.dark .dark-mode-item .text-gray-500 {
        color: #9ca3af !important;
      }
      
      /* Smooth transitions for all elements */
      * {
        transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;
      }
      
      /* Custom scrollbar */
      ::-webkit-scrollbar {
        width: 8px;
      }
      
      ::-webkit-scrollbar-track {
        background: #f1f5f9;
      }
      
      body.dark ::-webkit-scrollbar-track {
        background: #374151;
      }
      
      ::-webkit-scrollbar-thumb {
        background: #cbd5e1;
        border-radius: 4px;
      }
      
      body.dark ::-webkit-scrollbar-thumb {
        background: #64748b;
      }
      
      /* Glass morphism effect */
      .glass {
        background: rgba(255, 255, 255, 0.1);
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.2);
      }
      
      body.dark .glass {
        background: rgba(0, 0, 0, 0.1);
        border: 1px solid rgba(255, 255, 255, 0.1);
      }
    </style>
  </head>
  <body class="flex min-h-screen bg-gray-50 text-gray-900 transition-colors duration-300">
    
    <!-- Sidebar -->
    <aside class="w-64 bg-white shadow-lg p-6 border-r border-gray-200 transition-all duration-300">
      <div class="flex items-center justify-between mb-6">
        <h1 class="text-xl font-bold text-gray-800">CrisisBoard</h1>
        <!-- Theme Toggle Button -->
        <div class="theme-toggle" id="themeToggle" title="Toggle dark/light mode"></div>
      </div>
      
      <div class="space-y-4">
        <div class="p-3 rounded-lg bg-blue-50 border border-blue-200">
          <h3 class="font-semibold text-blue-800 mb-2">Your Complaints</h3>
          <a href="#" class="text-blue-600 hover:text-blue-800 text-sm transition-colors">Sign in to view complaints</a>
        </div>
        
        <div class="p-3 rounded-lg bg-green-50 border border-green-200">
          <h3 class="font-semibold text-green-800 mb-2">Quick Stats</h3>
          <div class="text-sm text-green-700">
            <div>Resolved: 12</div>
            <div>Pending: 3</div>
          </div>
        </div>
      </div>
    </aside>

    <!-- Main Content -->
    <main class="flex-1 p-8 overflow-y-auto">
      <!-- Header with enhanced styling -->
      <div class="mb-8">
        <h2 class="text-3xl font-bold text-gray-800 mb-2">Welcome to CrisisBoard</h2>
        <p class="text-gray-600">Submit and track community issues efficiently</p>
      </div>

      <!-- Enhanced Tabs -->
      <div class="flex space-x-1 mb-8 p-1 bg-gray-100 rounded-lg w-fit">
        <button class="px-4 py-2 rounded-md bg-white text-gray-800 font-medium shadow-sm transition-all duration-200 hover:shadow-md">Resolved</button>
        <button class="px-4 py-2 rounded-md text-gray-600 font-medium hover:text-gray-800 transition-colors">Community</button>
        <button class="px-4 py-2 rounded-md text-gray-600 font-medium hover:text-gray-800 transition-colors">Inbox</button>
      </div>

      <!-- Enhanced Form Section -->
      <section class="max-w-2xl">
        <div class="bg-white rounded-xl shadow-lg p-6 border border-gray-200">
          <h3 class="text-2xl font-bold mb-6 text-gray-800">Submit an Issue</h3>
          <form id="complaintForm" class="space-y-6">
            <div>
              <label for="issueText" class="block text-sm font-medium text-gray-700 mb-2">Issue Description</label>
              <textarea
                id="issueText"
                rows="4"
                placeholder="Describe your issue in detail..."
                class="w-full p-4 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white text-gray-900 placeholder-gray-500 resize-none"
              ></textarea>
            </div>
            
            <div class="flex items-center space-x-3">
              <input 
                type="checkbox" 
                id="includeEmail" 
                class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 focus:ring-2"
              />
              <label for="includeEmail" class="text-sm text-gray-700">Include my email in the report</label>
            </div>
            
            <button
              type="submit"
              class="w-full bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white font-semibold py-3 px-6 rounded-lg shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 transition-all duration-200"
            >
              Submit Issue
            </button>
            
            <div id="statusMessage" class="text-center text-sm font-medium"></div>
          </form>
        </div>
      </section>

      <!-- Enhanced Complaints List -->
      <div class="mt-8 max-w-2xl">
        <h3 class="text-xl font-semibold mb-4 text-gray-800">Recent Issues</h3>
        <div id="complaintsList" class="space-y-3"></div>
      </div>

      <!-- Enhanced Sign-in Button -->
      <div class="mt-8 max-w-2xl">
        <button
          id="signInBtn"
          class="w-full bg-gradient-to-r from-gray-600 to-gray-700 text-white py-3 px-6 rounded-lg shadow-lg cursor-not-allowed opacity-75"
          disabled
        >
          <div class="flex items-center justify-center space-x-2">
            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z" clip-rule="evenodd"></path>
            </svg>
            <span>Sign in with Google (Coming Soon)</span>
          </div>
        </button>
      </div>
    </main>

    <!-- Theme Toggle Script -->
    <script>
      // Theme toggle functionality
      const themeToggle = document.getElementById('themeToggle');
      const body = document.body;
      
      // Check for saved theme preference or default to light mode
      const currentTheme = localStorage.getItem('theme') || 'light';
      body.classList.toggle('dark', currentTheme === 'dark');
      themeToggle.classList.toggle('dark', currentTheme === 'dark');
      
      themeToggle.addEventListener('click', () => {
        const isDark = body.classList.toggle('dark');
        themeToggle.classList.toggle('dark', isDark);
        localStorage.setItem('theme', isDark ? 'dark' : 'light');
        
        // Update dynamically created items
        const darkModeItems = document.querySelectorAll('.dark-mode-item');
        darkModeItems.forEach(item => {
          if (isDark) {
            item.classList.add('dark-mode-item');
          } else {
            item.classList.remove('dark-mode-item');
          }
        });
      });

      // Form handling
      document.getElementById("complaintForm").addEventListener("submit", (e) => {
        e.preventDefault();
        const text = document.getElementById("issueText").value.trim();
        if (!text) {
          alert("Please enter an issue.");
          return;
        }
        
        // Create complaint item
        const complaintsList = document.getElementById("complaintsList");
        const complaintItem = document.createElement("div");
        complaintItem.className = "bg-white rounded-lg p-4 shadow-md border border-gray-200";
        complaintItem.innerHTML = `
          <div class="flex items-start justify-between">
            <div class="flex-1">
              <p class="text-gray-800">${text}</p>
              <p class="text-sm text-gray-500 mt-2">Submitted just now</p>
            </div>
            <span class="ml-3 px-2 py-1 text-xs font-medium bg-yellow-100 text-yellow-800 rounded-full">
              Pending
            </span>
          </div>
        `;
        
        // Apply dark mode classes if needed
        if (body.classList.contains('dark')) {
          complaintItem.classList.add('dark-mode-item');
        }
        
        complaintsList.prepend(complaintItem);
        
        // Clear form
        document.getElementById("issueText").value = "";
        document.getElementById("includeEmail").checked = false;
        
        // Show success message
        const statusMessage = document.getElementById("statusMessage");
        statusMessage.textContent = "‚úÖ Issue submitted successfully!";
        statusMessage.className = "text-center text-sm font-medium text-green-600";
        
        setTimeout(() => {
          statusMessage.textContent = "";
          statusMessage.className = "text-center text-sm font-medium";
        }, 3000);
      });

      // Sign-in button handler
      document.getElementById("signInBtn").addEventListener("click", () => {
        alert("Sign-in functionality will be implemented soon!");
      });
    </script>
  </body>
</html>
